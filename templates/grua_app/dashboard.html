{% extends 'grua_app/base.html' %}

{% block title %}Dashboard - Grúa Style{% endblock %}

{% block extra_css %}
<!-- Meta tags PWA solo si es necesario -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#000000">

<style>
    /* SOLO CSS específico para el contenido del dashboard, SIN tocar navbar */
    
    /* Variables PWA */
    :root {
        --pwa-bottom-nav-height: 0px;
        --pwa-content-padding-bottom: 20px;
        --pwa-floating-btn-bottom: 20px;
    }
    
    /* PWA elements - hidden by default */
    .pwa-bottom-nav,
    .pwa-floating-btn {
        display: none;
    }
    
    @media (display-mode: standalone) {
        :root {
            --pwa-bottom-nav-height: 80px;
            --pwa-content-padding-bottom: 100px;
            --pwa-floating-btn-bottom: 100px;
        }
        
        .pwa-bottom-nav,
        .pwa-floating-btn {
            display: flex;
        }
    }
    
    /* Dashboard content - usando mismos estilos que home.html */
    body {
        background: #000;
        color: #fff;
        line-height: 1.4;
        -webkit-font-smoothing: antialiased;
        padding-bottom: var(--pwa-content-padding-bottom);
    }
    
    /* Hero Section igual que home.html */
    .dashboard-hero {
        background: linear-gradient(135deg, #000 0%, #1a1a1a 100%);
        padding: 120px 0 40px 0;
        position: relative;
        overflow: hidden;
    }
    
    .dashboard-hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: radial-gradient(circle at 30% 50%, rgba(0, 213, 99, 0.1) 0%, transparent 50%);
    }
    
    /* Main action card usando mismo estilo que home */
    .main-action-card {
        margin: 2rem 0;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 24px;
        backdrop-filter: blur(10px);
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
    }
    
    .main-action-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(0, 213, 99, 0.1), transparent);
        animation: shimmer 3s infinite;
    }
    
    .main-action-card:hover {
        border-color: rgba(0, 213, 99, 0.3);
        box-shadow: 0 30px 60px rgba(0, 213, 99, 0.15);
        transform: translateY(-4px);
    }
    
    .main-action-btn {
        display: block;
        padding: 2rem 1.5rem;
        text-decoration: none;
        color: #fff;
        text-align: center;
        position: relative;
        transition: all 0.3s ease;
    }
    
    .main-action-btn:hover {
        color: #fff;
        text-decoration: none;
    }
    
    .action-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
        display: block;
        filter: drop-shadow(0 0 20px rgba(0, 213, 99, 0.5));
    }
    
    .action-title {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        color: #00D563;
        text-shadow: 0 0 15px rgba(0, 213, 99, 0.4);
    }
    
    .action-subtitle {
        font-size: 1rem;
        opacity: 0.8;
        font-weight: 500;
        color: #ccc;
    }

    /* NUEVO SISTEMA DE NAVEGACIÓN POR PESTAÑAS */
    .dashboard-navigation {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 20px;
        backdrop-filter: blur(10px);
        margin: 2rem 0;
        overflow: hidden;
        min-height: 500px;
    }

    .nav-tabs {
        display: flex;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 20px 20px 0 0;
        overflow-x: auto;
        scrollbar-width: none;
        -ms-overflow-style: none;
    }

    .nav-tabs::-webkit-scrollbar {
        display: none;
    }

    .nav-tab {
        flex: 1;
        min-width: 150px;
        padding: 1rem 1.5rem;
        background: transparent;
        border: none;
        color: rgba(255, 255, 255, 0.7);
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        font-size: 0.9rem;
        font-weight: 500;
        border-bottom: 3px solid transparent;
    }

    .nav-tab.active {
        color: #00D563;
        background: rgba(0, 213, 99, 0.1);
        border-bottom-color: #00D563;
    }

    .nav-tab:hover:not(.active) {
        color: #fff;
        background: rgba(255, 255, 255, 0.05);
    }

    .tab-content {
        display: none;
        padding: 2rem;
        animation: fadeIn 0.3s ease;
    }

    .tab-content.active {
        display: block;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    /* Section Headers */
    .section-header {
        text-align: center;
        margin-bottom: 2rem;
    }
    
    .section-title {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        color: #fff;
        text-shadow: 0 0 20px rgba(0, 213, 99, 0.3);
    }

    .section-header p {
        color: rgba(255, 255, 255, 0.8);
        font-size: 1.1rem;
    }
    
    .solicitudes-count {
        background: rgba(0, 213, 99, 0.1);
        color: #00D563;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.875rem;
        font-weight: 600;
        border: 1px solid rgba(0, 213, 99, 0.2);
        backdrop-filter: blur(10px);
        margin-top: 1rem;
        display: inline-block;
    }
    
    /* Cards grid igual que home */
    .solicitudes-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
    }
    
    .solicitud-card {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 24px;
        padding: 1.5rem;
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    
    .solicitud-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(0, 213, 99, 0.1), transparent);
        animation: shimmer 6s infinite;
    }
    
    .solicitud-card:hover {
        transform: translateY(-8px);
        border-color: rgba(0, 213, 99, 0.3);
        box-shadow: 0 20px 40px rgba(0, 213, 99, 0.15);
    }
    
    .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
    }
    
    .orden-number {
        font-size: 1.125rem;
        font-weight: 700;
        color: #fff;
        font-family: 'Courier New', monospace;
    }
    
    .status-badge {
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        backdrop-filter: blur(10px);
    }
    
    .status-pendiente { 
        background: linear-gradient(135deg, rgba(255, 133, 0, 0.2), rgba(255, 107, 0, 0.3));
        color: #FF8500; 
        border: 1px solid rgba(255, 133, 0, 0.4);
    }
    .status-confirmada { 
        background: linear-gradient(135deg, rgba(0, 213, 99, 0.2), rgba(0, 184, 83, 0.3));
        color: #00D563; 
        border: 1px solid rgba(0, 213, 99, 0.4);
    }
    .status-en_proceso { 
        background: linear-gradient(135deg, rgba(31, 182, 255, 0.2), rgba(14, 165, 233, 0.3));
        color: #1FB6FF; 
        border: 1px solid rgba(31, 182, 255, 0.4);
    }
    .status-completada { 
        background: linear-gradient(135deg, rgba(0, 213, 99, 0.2), rgba(0, 184, 83, 0.3));
        color: #00D563; 
        border: 1px solid rgba(0, 213, 99, 0.4);
    }
    .status-cancelada { 
        background: linear-gradient(135deg, rgba(255, 48, 64, 0.2), rgba(220, 38, 38, 0.3));
        color: #FF3040; 
        border: 1px solid rgba(255, 48, 64, 0.4);
    }
    .status-pendiente_pago { 
        background: linear-gradient(135deg, rgba(255, 170, 0, 0.2), rgba(245, 158, 11, 0.3));
        color: #FFAA00; 
        border: 1px solid rgba(255, 170, 0, 0.4);
    }
    
    .route-info {
        margin: 1rem 0;
        padding: 1rem;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 12px;
        font-size: 0.875rem;
        color: #ccc;
    }
    
    .route-info strong {
        color: #00D563;
    }
    
    .card-details {
        margin: 1rem 0;
        font-size: 0.875rem;
        color: #999;
    }
    
    .card-details i {
        color: #00D563;
        margin-right: 0.5rem;
        width: 16px;
    }
    
    .card-details div {
        margin-bottom: 0.5rem;
    }
    
    .card-actions {
        margin-top: 1.5rem;
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
    }
    
    .action-btn {
        padding: 0.75rem 1rem;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        text-decoration: none;
        color: #fff;
        text-align: center;
        font-size: 0.875rem;
        font-weight: 600;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        backdrop-filter: blur(10px);
        flex: 1;
        min-width: 140px;
        justify-content: center;
    }
    
    .action-btn:hover {
        background: rgba(255, 255, 255, 0.1);
        border-color: rgba(0, 213, 99, 0.3);
        color: #fff;
        transform: translateY(-2px);
        text-decoration: none;
        box-shadow: 0 8px 20px rgba(0, 213, 99, 0.1);
    }
    
    .action-btn.primary {
        background: rgba(0, 213, 99, 0.1);
        color: #00D563;
        border-color: rgba(0, 213, 99, 0.3);
    }
    
    .action-btn.primary:hover {
        background: rgba(0, 213, 99, 0.2);
        color: #00D563;
        border-color: rgba(0, 213, 99, 0.5);
    }
    
    /* Empty state igual que home */
    .empty-state {
        text-align: center;
        padding: 4rem 2rem;
        color: #666;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 24px;
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
    }
    
    .empty-state::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(0, 213, 99, 0.1), transparent);
        animation: shimmer 4s infinite;
    }
    
    .empty-icon {
        font-size: 4rem;
        margin-bottom: 1.5rem;
        opacity: 0.3;
        filter: drop-shadow(0 0 20px rgba(0, 213, 99, 0.3));
    }
    
    .empty-title {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: #fff;
        text-shadow: 0 0 10px rgba(0, 213, 99, 0.2);
    }
    
    .empty-text {
        font-size: 1rem;
        line-height: 1.5;
        color: #999;
        max-width: 300px;
        margin: 0 auto;
    }
    /* ESTILOS PARA CONTENIDO DE PESTAÑAS */

    /* Sección de Membresía */
    .membership-container {
        margin-top: 1rem;
    }

    .membership-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        padding: 2rem;
        position: relative;
        overflow: hidden;
    }

    .membership-card.premium {
        background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 255, 255, 0.1) 100%);
        border: 1px solid rgba(255, 215, 0, 0.3);
    }

    .membership-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: linear-gradient(135deg, #FFD700, #FFA500);
        color: #000;
        padding: 0.5rem 1rem;
        border-radius: 50px;
        font-weight: 600;
        font-size: 0.85rem;
        margin-bottom: 1.5rem;
    }

    .membership-info h3 {
        color: #fff;
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
        text-shadow: 0 0 10px rgba(0, 213, 99, 0.3);
    }

    .membership-validity {
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 1.5rem;
        font-size: 1rem;
    }

    .membership-benefits {
        margin-bottom: 2rem;
    }

    .benefit-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-bottom: 0.75rem;
        color: #fff;
        font-size: 1rem;
    }

    .benefit-item i {
        color: #00D563;
        font-size: 0.9rem;
    }

    .membership-progress {
        margin-bottom: 2rem;
    }

    .progress-label {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.5rem;
        color: #fff;
        font-size: 1rem;
        font-weight: 500;
    }

    .progress-bar {
        height: 8px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 4px;
        overflow: hidden;
    }

    .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #00D563, #00FF7F);
        border-radius: 4px;
        transition: width 0.3s ease;
    }

    .membership-btn {
        background: linear-gradient(135deg, #FFD700, #FFA500);
        color: #000;
        border: none;
        padding: 1rem 2rem;
        border-radius: 15px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .membership-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
    }

    /* Servicios Rápidos */
    .quick-services-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
        margin-top: 1rem;
    }

    .quick-service-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        padding: 1.5rem;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .quick-service-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0, 213, 99, 0.3);
        border-color: rgba(0, 213, 99, 0.5);
    }

    .service-icon {
        width: 60px;
        height: 60px;
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: #fff;
    }

    .service-icon.grua {
        background: linear-gradient(135deg, #00D563, #00FF7F);
    }

    .service-icon.mecanica {
        background: linear-gradient(135deg, #FF6B35, #FF8E53);
    }

    .service-icon.bateria {
        background: linear-gradient(135deg, #4ECDC4, #44A08D);
    }

    .service-icon.combustible {
        background: linear-gradient(135deg, #667eea, #764ba2);
    }

    .service-info {
        flex: 1;
    }

    .service-info h3 {
        color: #fff;
        margin-bottom: 0.25rem;
        font-size: 1.2rem;
        font-weight: 600;
        text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
    }

    .service-info p {
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 0.5rem;
        font-size: 1rem;
    }

    .service-time {
        background: rgba(0, 213, 99, 0.2);
        color: #00D563;
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.8rem;
        font-weight: 500;
    }

    .service-arrow {
        color: rgba(255, 255, 255, 0.5);
        font-size: 1.2rem;
        transition: all 0.3s ease;
    }

    .quick-service-card:hover .service-arrow {
        color: #00D563;
        transform: translateX(5px);
    }

    /* Historial */
    .history-container {
        margin-top: 1rem;
    }

    .history-filters {
        display: flex;
        gap: 1rem;
        margin-bottom: 2rem;
        flex-wrap: wrap;
    }

    .filter-btn {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #fff;
        padding: 0.75rem 1.5rem;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 1rem;
        font-weight: 500;
    }

    .filter-btn.active,
    .filter-btn:hover {
        background: rgba(0, 213, 99, 0.2);
        border-color: rgba(0, 213, 99, 0.5);
        color: #00D563;
    }

    .history-timeline {
        position: relative;
    }

    .history-item {
        display: flex;
        margin-bottom: 2rem;
        gap: 1.5rem;
    }

    .history-date {
        text-align: center;
        min-width: 60px;
    }

    .history-date .day {
        display: block;
        font-size: 1.8rem;
        font-weight: 700;
        color: #fff;
        text-shadow: 0 0 10px rgba(0, 213, 99, 0.3);
    }

    .history-date .month {
        display: block;
        font-size: 0.9rem;
        color: #fff;
        text-transform: uppercase;
        font-weight: 600;
    }

    .history-content {
        flex: 1;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        padding: 1.5rem;
    }

    .history-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
        flex-wrap: wrap;
        gap: 1rem;
    }

    .service-type {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 600;
        color: #fff;
        font-size: 1.1rem;
        text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
    }

    .service-type.grua i { color: #00D563; }
    .service-type.mecanica i { color: #FF6B35; }
    .service-type.bateria i { color: #4ECDC4; }

    .history-status {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        border-radius: 25px;
        font-size: 0.85rem;
        font-weight: 500;
    }

    .history-status.completed {
        background: rgba(0, 213, 99, 0.2);
        color: #00D563;
    }

    .vehicle-info h4 {
        color: #fff;
        margin-bottom: 0.75rem;
        font-size: 1.2rem;
        font-weight: 600;
        text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
    }

    .vehicle-info p {
        color: #fff;
        margin-bottom: 0.5rem;
        font-size: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .vehicle-info i {
        color: #00D563;
        width: 16px;
    }

    .service-details {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin: 1.5rem 0;
        padding: 1rem;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 15px;
    }

    .detail-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .detail-item .label {
        color: #fff;
        font-size: 1rem;
        font-weight: 500;
    }

    .detail-item .value {
        color: #fff;
        font-weight: 600;
        text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
    }

    .detail-item .value.premium {
        color: #FFD700;
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
    }

    .detail-item .value small {
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.9rem;
    }

    .history-actions {
        display: flex;
        gap: 1rem;
        margin-top: 1rem;
        flex-wrap: wrap;
    }

    .history-action-btn {
        padding: 0.75rem 1.5rem;
        border-radius: 15px;
        border: none;
        cursor: pointer;
        font-weight: 500;
        font-size: 0.9rem;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .history-action-btn.primary {
        background: linear-gradient(135deg, #00D563, #00FF7F);
        color: #fff;
    }

    .history-action-btn.secondary {
        background: rgba(255, 255, 255, 0.1);
        color: rgba(255, 255, 255, 0.8);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .history-action-btn:hover {
        transform: translateY(-2px);
    }

    .history-action-btn.primary:hover {
        box-shadow: 0 10px 30px rgba(0, 213, 99, 0.3);
    }

    .history-action-btn.secondary:hover {
        background: rgba(255, 255, 255, 0.2);
    }

    .load-more-container {
        text-align: center;
        margin-top: 2rem;
    }

    .load-more-btn {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #fff;
        padding: 1rem 2rem;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 1rem;
        font-weight: 500;
    }

    .load-more-btn:hover {
        background: rgba(0, 213, 99, 0.2);
        border-color: rgba(0, 213, 99, 0.5);
        color: #00D563;
        transform: translateY(-2px);
    }
    /* Estadísticas */
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin-top: 1rem;
    }

    .stat-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        padding: 1.5rem;
        display: flex;
        align-items: center;
        gap: 1rem;
        transition: all 0.3s ease;
    }

    .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0, 213, 99, 0.2);
    }

    .stat-icon {
        width: 60px;
        height: 60px;
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: #fff;
    }

    .stat-card.total-services .stat-icon {
        background: linear-gradient(135deg, #667eea, #764ba2);
    }

    .stat-card.money-saved .stat-icon {
        background: linear-gradient(135deg, #FFD700, #FFA500);
    }

    .stat-card.response-time .stat-icon {
        background: linear-gradient(135deg, #4ECDC4, #44A08D);
    }

    .stat-card.satisfaction .stat-icon {
        background: linear-gradient(135deg, #FF6B35, #FF8E53);
    }

    .stat-content h3 {
        color: #fff;
        font-size: 2.2rem;
        font-weight: 700;
        margin-bottom: 0.25rem;
        text-shadow: 0 0 15px rgba(0, 213, 99, 0.3);
    }

    .stat-content p {
        color: #fff;
        margin-bottom: 0.5rem;
        font-size: 1rem;
        font-weight: 500;
    }

    .stat-trend {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        font-size: 0.8rem;
        font-weight: 500;
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
    }

    .stat-trend.up {
        background: rgba(0, 213, 99, 0.2);
        color: #00D563;
    }

    .stat-trend.down {
        background: rgba(255, 107, 53, 0.2);
        color: #FF6B35;
    }

    .stat-trend.neutral {
        background: rgba(255, 215, 0, 0.2);
        color: #FFD700;
    }
    
    /* PWA Navigation */
    .pwa-bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        height: var(--pwa-bottom-nav-height);
        background: rgba(0, 0, 0, 0.9);
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        padding-bottom: env(safe-area-inset-bottom, 0);
        z-index: 100;
        backdrop-filter: blur(20px);
    }
    
    .pwa-nav-item {
        flex: 1;
        padding: 0.75rem 0.5rem;
        text-align: center;
        text-decoration: none;
        color: #666;
        transition: all 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    
    .pwa-nav-item.active {
        color: #00D563;
    }
    
    .pwa-nav-item:hover {
        background: rgba(0, 213, 99, 0.1);
        color: #00D563;
        text-decoration: none;
    }
    
    .pwa-nav-icon {
        font-size: 1.5rem;
        margin-bottom: 0.25rem;
    }
    
    .pwa-nav-label {
        font-size: 0.75rem;
        font-weight: 600;
    }
    
    .pwa-floating-btn {
        position: fixed;
        bottom: var(--pwa-floating-btn-bottom);
        right: 1.5rem;
        width: 56px;
        height: 56px;
        background: linear-gradient(135deg, #00D563, #00B853);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 8px 20px rgba(0, 213, 99, 0.4);
        text-decoration: none;
        color: #000;
        font-size: 1.5rem;
        z-index: 99;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
    }
    
    .pwa-floating-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 25px rgba(0, 213, 99, 0.6);
        color: #000;
        text-decoration: none;
    }
    
    /* Animaciones igual que home */
    @keyframes shimmer {
        0% { left: -100%; }
        100% { left: 100%; }
    }
    
    /* Responsive igual que home */
    @media (max-width: 968px) {
        .dashboard-hero {
            padding: 80px 0 60px 0;
        }
        
        .solicitudes-grid {
            grid-template-columns: 1fr;
        }
        
        .main-action-card {
            margin: 1.5rem 0;
        }

        .quick-services-grid {
            grid-template-columns: 1fr;
            gap: 1rem;
        }

        .stats-grid {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }

        .nav-tabs {
            flex-wrap: wrap;
        }

        .nav-tab {
            min-width: 120px;
            padding: 0.75rem 1rem;
            font-size: 0.8rem;
        }
    }
    
    @media (max-width: 768px) {
        .dashboard-hero {
            padding: 60px 0 40px 0;
        }
        
        .card-actions {
            flex-direction: column;
        }
        
        .action-btn {
            flex: none;
            min-width: auto;
        }
        
        .pwa-floating-btn {
            right: 1rem;
        }

        .quick-service-card {
            padding: 1rem;
        }

        .history-item {
            flex-direction: column;
            gap: 1rem;
        }

        .history-date {
            align-self: flex-start;
        }

        .history-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 0.5rem;
        }

        .service-details {
            grid-template-columns: 1fr;
            gap: 0.5rem;
        }

        .history-actions {
            flex-direction: column;
            gap: 0.5rem;
        }

        .history-action-btn {
            justify-content: center;
        }

        .stats-grid {
            grid-template-columns: 1fr;
            gap: 1rem;
        }

        .stat-card {
            padding: 1rem;
        }

        .stat-content h3 {
            font-size: 1.5rem;
        }

        .membership-card {
            padding: 1.5rem;
        }

        .history-filters {
            gap: 0.5rem;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            font-size: 0.85rem;
        }

        .tab-content {
            padding: 1rem;
        }
    }
    
    @media (max-width: 480px) {
        .section-title {
            font-size: 1.5rem;
        }
        
        .solicitud-card {
            padding: 1rem;
        }

        .quick-service-card {
            flex-direction: column;
            text-align: center;
            gap: 1rem;
        }

        .service-arrow {
            display: none;
        }

        .membership-benefits {
            margin-bottom: 1rem;
        }

        .benefit-item {
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .stat-card {
            flex-direction: column;
            text-align: center;
            gap: 0.75rem;
        }

        .stat-icon {
            margin: 0 auto;
        }

        .history-filters {
            flex-wrap: wrap;
            justify-content: center;
        }

        .filter-btn {
            flex: 1;
            min-width: 120px;
            justify-content: center;
        }

        .nav-tab {
            min-width: 100px;
            padding: 0.5rem;
            font-size: 0.75rem;
        }
    }
</style>
{% endblock %}
{% block content %}
<!-- Hero Section igual que home.html -->
<section class="dashboard-hero">
    <div class="container">
        <!-- Botón principal tipo Uber -->
        <div class="main-action-card">
            <a href="{% url 'solicitar_servicio' %}" class="main-action-btn">
                <div class="action-icon"><i class="fas fa-truck"></i></div>
                <div class="action-title">Solicitar Grúa</div>
                <div class="action-subtitle">Servicio disponible 24/7</div>
            </a>
        </div>

        <!-- NUEVO SISTEMA DE NAVEGACIÓN POR PESTAÑAS -->
        <div class="dashboard-navigation">
            <div class="nav-tabs">
                <button class="nav-tab active" data-tab="solicitudes">
                    <i class="fas fa-list-alt"></i>
                    Mis Solicitudes
                </button>
                <button class="nav-tab" data-tab="servicios">
                    <i class="fas fa-plus-circle"></i>
                    Servicios
                </button>
                <button class="nav-tab" data-tab="membresia">
                    <i class="fas fa-crown"></i>
                    Membresía
                </button>
                <button class="nav-tab" data-tab="historial">
                    <i class="fas fa-history"></i>
                    Historial
                </button>
                <button class="nav-tab" data-tab="estadisticas">
                    <i class="fas fa-chart-line"></i>
                    Estadísticas
                </button>
            </div>

            <!-- TAB CONTENT: MIS SOLICITUDES -->
            <div class="tab-content active" id="solicitudes">
                <div class="section-header">
                    <h2 class="section-title">Mis Solicitudes</h2>
                    <p>Gestiona tus servicios de grúa activos</p>
                    {% if solicitudes %}
                    <div class="solicitudes-count">{{ solicitudes|length }} solicitud{{ solicitudes|length|pluralize:"es" }}</div>
                    {% endif %}
                </div>
                
                {% if solicitudes %}
                <div class="solicitudes-grid">
                    {% for solicitud in solicitudes %}
                    <div class="solicitud-card">
                        <div class="card-header">
                            <div class="orden-number">{{ solicitud.numero_orden }}</div>
                            <div class="status-badge status-{{ solicitud.estado }}">
                                {{ solicitud.get_estado_display }}
                            </div>
                        </div>
                        
                        <div class="route-info">
                            <div><strong>Origen:</strong> {{ solicitud.direccion_origen }}</div>
                            <div><strong>Destino:</strong> {{ solicitud.direccion_destino }}</div>
                        </div>
                        
                        <div class="card-details">
                            <div><i class="fas fa-calendar"></i>{{ solicitud.fecha_servicio|date:"d/m/Y H:i" }}</div>
                            <div><i class="fas fa-car"></i>{{ solicitud.marca_vehiculo }} {{ solicitud.modelo_vehiculo }}</div>
                            {% if solicitud.total %}
                            <div><i class="fas fa-dollar-sign"></i>${{ solicitud.total|floatformat:0 }}</div>
                            {% endif %}
                        </div>
                        
                        <div class="card-actions">
                            <a href="{% url 'confirmacion_solicitud' solicitud.id %}" class="action-btn primary">
                                <i class="fas fa-eye"></i>Ver Detalles
                            </a>
                            <a href="{% url 'descargar_pdf_solicitud' solicitud.id %}" class="action-btn">
                                <i class="fas fa-file-pdf"></i>PDF
                            </a>
                            {% if solicitud.estado == 'confirmada' or solicitud.estado == 'completada' or solicitud.pagado %}
                            <a href="{% url 'descargar_pdf_comprobante' solicitud.id %}" class="action-btn">
                                <i class="fas fa-receipt"></i>Comprobante
                            </a>
                            {% endif %}
                            <a href="{% url 'reenviar_comprobante' solicitud.id %}" class="action-btn">
                                <i class="fas fa-envelope"></i>Email
                            </a>
                            {% if solicitud.estado == 'pendiente' or solicitud.estado == 'pendiente_pago' %}
                            <a href="{% url 'procesar_pago' solicitud.id %}" class="action-btn primary">
                                <i class="fas fa-credit-card"></i>Pagar
                            </a>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div class="empty-state">
                    <div class="empty-icon"><i class="fas fa-truck"></i></div>
                    <div class="empty-title">No hay solicitudes</div>
                    <div class="empty-text">
                        Cuando necesites un servicio de grúa, tu historial aparecerá aquí.
                    </div>
                </div>
                {% endif %}
            </div>

            <!-- TAB CONTENT: SERVICIOS RÁPIDOS -->
            <div class="tab-content" id="servicios">
                <div class="section-header">
                    <h2 class="section-title">Servicios Rápidos</h2>
                    <p>Solicita un servicio de forma rápida y sencilla</p>
                </div>
                <div class="quick-services-grid">
                    <div class="quick-service-card" onclick="window.location.href='{% url 'solicitar_servicio' %}'">
                        <div class="service-icon grua">
                            <i class="fas fa-truck"></i>
                        </div>
                        <div class="service-info">
                            <h3>Grúa de Emergencia</h3>
                            <p>Servicio inmediato 24/7</p>
                            <span class="service-time">15-30 min</span>
                        </div>
                        <div class="service-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                    
                    <div class="quick-service-card" onclick="window.location.href='{% url 'asistencia_mecanica' %}'">
                        <div class="service-icon mecanica">
                            <i class="fas fa-wrench"></i>
                        </div>
                        <div class="service-info">
                            <h3>Asistencia Mecánica</h3>
                            <p>Reparación en el lugar</p>
                            <span class="service-time">20-45 min</span>
                        </div>
                        <div class="service-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                    
                    <div class="quick-service-card" onclick="window.location.href='{% url 'carga_bateria' %}'">
                        <div class="service-icon bateria">
                            <i class="fas fa-battery-three-quarters"></i>
                        </div>
                        <div class="service-info">
                            <h3>Carga de Batería</h3>
                            <p>Arranque y carga rápida</p>
                            <span class="service-time">10-20 min</span>
                        </div>
                        <div class="service-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                    
                    <div class="quick-service-card">
                        <div class="service-icon combustible">
                            <i class="fas fa-gas-pump"></i>
                        </div>
                        <div class="service-info">
                            <h3>Combustible</h3>
                            <p>Entrega en el lugar</p>
                            <span class="service-time">25-40 min</span>
                        </div>
                        <div class="service-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TAB CONTENT: MEMBRESÍA -->
            <div class="tab-content" id="membresia">
                <div class="section-header">
                    <h2 class="section-title">Estado de Membresía</h2>
                    <p>Gestiona tu plan y beneficios</p>
                </div>
                <div class="membership-container">
                    <div class="membership-card premium">
                        <div class="membership-badge">
                            <i class="fas fa-star"></i>
                            <span>PREMIUM</span>
                        </div>
                        <div class="membership-info">
                            <h3>Plan Premium Activo</h3>
                            <p class="membership-validity">Válido hasta: 15 de Enero 2026</p>
                            <div class="membership-benefits">
                                <div class="benefit-item">
                                    <i class="fas fa-check"></i>
                                    <span>Servicio 24/7 prioritario</span>
                                </div>
                                <div class="benefit-item">
                                    <i class="fas fa-check"></i>
                                    <span>Descuento 20% en todos los servicios</span>
                                </div>
                                <div class="benefit-item">
                                    <i class="fas fa-check"></i>
                                    <span>Asistencia mecánica incluida</span>
                                </div>
                                <div class="benefit-item">
                                    <i class="fas fa-check"></i>
                                    <span>Historial completo de servicios</span>
                                </div>
                            </div>
                        </div>
                        <div class="membership-progress">
                            <div class="progress-label">
                                <span>Servicios utilizados</span>
                                <span>7/15</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 47%"></div>
                            </div>
                        </div>
                        <button class="membership-btn">
                            <i class="fas fa-gem"></i>
                            Renovar Membresía
                        </button>
                    </div>
                </div>
            </div>
            <!-- TAB CONTENT: HISTORIAL -->
            <div class="tab-content" id="historial">
                <div class="section-header">
                    <h2 class="section-title">Historial de Servicios</h2>
                    <p>Todos tus vehículos trasladados y servicios realizados</p>
                </div>
                <div class="history-container">
                    <div class="history-filters">
                        <button class="filter-btn active" data-filter="all">
                            <i class="fas fa-list"></i>
                            Todos
                        </button>
                        <button class="filter-btn" data-filter="grua">
                            <i class="fas fa-truck"></i>
                            Grúa
                        </button>
                        <button class="filter-btn" data-filter="mecanica">
                            <i class="fas fa-wrench"></i>
                            Mecánica
                        </button>
                        <button class="filter-btn" data-filter="bateria">
                            <i class="fas fa-battery-three-quarters"></i>
                            Batería
                        </button>
                    </div>
                    
                    <div class="history-timeline">
                        <div class="history-item" data-type="grua">
                            <div class="history-date">
                                <span class="day">15</span>
                                <span class="month">JUL</span>
                            </div>
                            <div class="history-content">
                                <div class="history-header">
                                    <div class="service-type grua">
                                        <i class="fas fa-truck"></i>
                                        <span>Servicio de Grúa</span>
                                    </div>
                                    <div class="history-status completed">
                                        <i class="fas fa-check-circle"></i>
                                        Completado
                                    </div>
                                </div>
                                <div class="vehicle-info">
                                    <h4>Toyota Corolla 2019 - ABC-123</h4>
                                    <p><i class="fas fa-map-marker-alt"></i> Av. Providencia 1234 → Taller Mecánico Central</p>
                                    <p><i class="fas fa-clock"></i> 14:30 - 15:15 hrs</p>
                                </div>
                                <div class="service-details">
                                    <div class="detail-item">
                                        <span class="label">Operador:</span>
                                        <span class="value">Carlos Mendoza</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="label">Costo:</span>
                                        <span class="value premium">$32.000 <small>(Desc. 20%)</small></span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="label">Motivo:</span>
                                        <span class="value">Falla en motor</span>
                                    </div>
                                </div>
                                <div class="history-actions">
                                    <button class="history-action-btn secondary">
                                        <i class="fas fa-file-download"></i>
                                        Factura
                                    </button>
                                    <button class="history-action-btn primary">
                                        <i class="fas fa-redo"></i>
                                        Repetir Servicio
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="history-item" data-type="mecanica">
                            <div class="history-date">
                                <span class="day">12</span>
                                <span class="month">JUL</span>
                            </div>
                            <div class="history-content">
                                <div class="history-header">
                                    <div class="service-type mecanica">
                                        <i class="fas fa-wrench"></i>
                                        <span>Asistencia Mecánica</span>
                                    </div>
                                    <div class="history-status completed">
                                        <i class="fas fa-check-circle"></i>
                                        Completado
                                    </div>
                                </div>
                                <div class="vehicle-info">
                                    <h4>Honda Civic 2020 - XYZ-789</h4>
                                    <p><i class="fas fa-map-marker-alt"></i> Las Condes, Santiago</p>
                                    <p><i class="fas fa-clock"></i> 09:45 - 10:30 hrs</p>
                                </div>
                                <div class="service-details">
                                    <div class="detail-item">
                                        <span class="label">Técnico:</span>
                                        <span class="value">Miguel Rodriguez</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="label">Costo:</span>
                                        <span class="value premium">$24.000 <small>(Desc. 20%)</small></span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="label">Reparación:</span>
                                        <span class="value">Cambio de neumático</span>
                                    </div>
                                </div>
                                <div class="history-actions">
                                    <button class="history-action-btn secondary">
                                        <i class="fas fa-file-download"></i>
                                        Factura
                                    </button>
                                    <button class="history-action-btn primary">
                                        <i class="fas fa-star"></i>
                                        Calificar
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="history-item" data-type="bateria">
                            <div class="history-date">
                                <span class="day">08</span>
                                <span class="month">JUL</span>
                            </div>
                            <div class="history-content">
                                <div class="history-header">
                                    <div class="service-type bateria">
                                        <i class="fas fa-battery-three-quarters"></i>
                                        <span>Carga de Batería</span>
                                    </div>
                                    <div class="history-status completed">
                                        <i class="fas fa-check-circle"></i>
                                        Completado
                                    </div>
                                </div>
                                <div class="vehicle-info">
                                    <h4>Nissan Sentra 2018 - DEF-456</h4>
                                    <p><i class="fas fa-map-marker-alt"></i> Estacionamiento Mall Plaza</p>
                                    <p><i class="fas fa-clock"></i> 16:20 - 16:35 hrs</p>
                                </div>
                                <div class="service-details">
                                    <div class="detail-item">
                                        <span class="label">Técnico:</span>
                                        <span class="value">Juan Pérez</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="label">Costo:</span>
                                        <span class="value premium">$16.000 <small>(Desc. 20%)</small></span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="label">Tipo:</span>
                                        <span class="value">Arranque por puente</span>
                                    </div>
                                </div>
                                <div class="history-actions">
                                    <button class="history-action-btn secondary">
                                        <i class="fas fa-file-download"></i>
                                        Factura
                                    </button>
                                    <button class="history-action-btn primary">
                                        <i class="fas fa-heart"></i>
                                        Recomendar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="load-more-container">
                        <button class="load-more-btn">
                            <i class="fas fa-chevron-down"></i>
                            Cargar más servicios
                        </button>
                    </div>
                </div>
            </div>

            <!-- TAB CONTENT: ESTADÍSTICAS -->
            <div class="tab-content" id="estadisticas">
                <div class="section-header">
                    <h2 class="section-title">Mis Estadísticas</h2>
                    <p>Resumen de tu actividad y ahorros</p>
                </div>
                <div class="stats-grid">
                    <div class="stat-card total-services">
                        <div class="stat-icon">
                            <i class="fas fa-clipboard-list"></i>
                        </div>
                        <div class="stat-content">
                            <h3>27</h3>
                            <p>Servicios Totales</p>
                            <span class="stat-trend up">
                                <i class="fas fa-arrow-up"></i>
                                +5 este mes
                            </span>
                        </div>
                    </div>
                    
                    <div class="stat-card money-saved">
                        <div class="stat-icon">
                            <i class="fas fa-piggy-bank"></i>
                        </div>
                        <div class="stat-content">
                            <h3>$147.600</h3>
                            <p>Ahorrado con Membresía</p>
                            <span class="stat-trend up">
                                <i class="fas fa-arrow-up"></i>
                                20% descuento
                            </span>
                        </div>
                    </div>
                    
                    <div class="stat-card response-time">
                        <div class="stat-icon">
                            <i class="fas fa-stopwatch"></i>
                        </div>
                        <div class="stat-content">
                            <h3>18 min</h3>
                            <p>Tiempo Promedio</p>
                            <span class="stat-trend down">
                                <i class="fas fa-arrow-down"></i>
                                -3 min vs mes anterior
                            </span>
                        </div>
                    </div>
                    
                    <div class="stat-card satisfaction">
                        <div class="stat-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="stat-content">
                            <h3>4.9/5</h3>
                            <p>Satisfacción Promedio</p>
                            <span class="stat-trend neutral">
                                <i class="fas fa-trophy"></i>
                                Excelente servicio
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- PWA Navigation (solo visible en app) -->
<div class="pwa-bottom-nav">
    <a href="{% url 'dashboard' %}" class="pwa-nav-item active">
        <div class="pwa-nav-icon"><i class="fas fa-home"></i></div>
        <div class="pwa-nav-label">Inicio</div>
    </a>
    <a href="{% url 'solicitar_servicio' %}" class="pwa-nav-item">
        <div class="pwa-nav-icon"><i class="fas fa-plus"></i></div>
        <div class="pwa-nav-label">Solicitar</div>
    </a>
    <a href="{% url 'dashboard' %}" class="pwa-nav-item">
        <div class="pwa-nav-icon"><i class="fas fa-list"></i></div>
        <div class="pwa-nav-label">Historial</div>
    </a>
    <a href="#" class="pwa-nav-item">
        <div class="pwa-nav-icon"><i class="fas fa-user"></i></div>
        <div class="pwa-nav-label">Perfil</div>
    </a>
</div>

<!-- PWA Floating Button (solo visible en app) -->
<a href="{% url 'solicitar_servicio' %}" class="pwa-floating-btn">
    <i class="fas fa-plus"></i>
</a>

<script>
    // Funcionalidad de navegación por pestañas
    document.addEventListener('DOMContentLoaded', function() {
        const navTabs = document.querySelectorAll('.nav-tab');
        const tabContents = document.querySelectorAll('.tab-content');
        
        navTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const targetTab = this.dataset.tab;
                
                // Actualizar pestañas activas
                navTabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                // Mostrar contenido correspondiente
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === targetTab) {
                        content.classList.add('active');
                    }
                });
            });
        });

        // Funcionalidad de filtros en el historial
        const filterBtns = document.querySelectorAll('.filter-btn');
        const historyItems = document.querySelectorAll('.history-item');
        
        filterBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const filter = this.dataset.filter;
                
                // Actualizar botones activos
                filterBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                // Filtrar elementos
                historyItems.forEach(item => {
                    if (filter === 'all' || item.dataset.type === filter) {
                        item.style.display = 'flex';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
        });

        // Funcionalidad para cargar más servicios
        const loadMoreBtn = document.querySelector('.load-more-btn');
        if (loadMoreBtn) {
            loadMoreBtn.addEventListener('click', function() {
                // Aquí puedes agregar lógica para cargar más servicios
                // Por ejemplo, hacer una petición AJAX
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Cargando...';
                
                // Simular carga
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-chevron-down"></i> Cargar más servicios';
                }, 2000);
            });
        }

        // Funcionalidad para botón de renovar membresía
        const membershipBtn = document.querySelector('.membership-btn');
        if (membershipBtn) {
            membershipBtn.addEventListener('click', function() {
                // Aquí puedes agregar lógica para renovar membresía
                alert('Funcionalidad de renovación de membresía - próximamente');
            });
        }

        // Funcionalidad para botones de historial
        const historyActionBtns = document.querySelectorAll('.history-action-btn');
        historyActionBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const action = this.textContent.trim();
                // Aquí puedes agregar lógica específica para cada acción
                console.log(`Acción seleccionada: ${action}`);
            });
        });

        // Funcionalidad para servicios rápidos
        const serviceCards = document.querySelectorAll('.quick-service-card');
        serviceCards.forEach(card => {
            if (!card.onclick) {
                card.addEventListener('click', function() {
                    // Funcionalidad por defecto para cards sin onclick definido
                    console.log('Servicio seleccionado');
                });
            }
        });

        // Efecto hover mejorado para las pestañas
        navTabs.forEach(tab => {
            tab.addEventListener('mouseenter', function() {
                if (!this.classList.contains('active')) {
                    this.style.transform = 'translateY(-2px)';
                }
            });
            
            tab.addEventListener('mouseleave', function() {
                if (!this.classList.contains('active')) {
                    this.style.transform = 'translateY(0)';
                }
            });
        });
    });

    // Función para actualizar estadísticas (simulación)
    function updateStats() {
        const statNumbers = document.querySelectorAll('.stat-content h3');
        statNumbers.forEach(stat => {
            const currentValue = parseInt(stat.textContent);
            if (!isNaN(currentValue)) {
                // Animación de contador simple
                let counter = 0;
                const increment = currentValue / 50;
                const timer = setInterval(() => {
                    counter += increment;
                    if (counter >= currentValue) {
                        counter = currentValue;
                        clearInterval(timer);
                    }
                    stat.textContent = Math.floor(counter);
                }, 20);
            }
        });
    }

    // Inicializar animaciones cuando se carga la pestaña de estadísticas
    document.addEventListener('DOMContentLoaded', function() {
        const estadisticasTab = document.querySelector('[data-tab="estadisticas"]');
        if (estadisticasTab) {
            estadisticasTab.addEventListener('click', function() {
                setTimeout(updateStats, 300);
            });
        }
    });
</script>

{% endblock %}